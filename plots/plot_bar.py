import matplotlib.pyplot as plt

# Example score dictionaries (replace these with full data)

agent5_data =  {'384_0.00404': 62.89992843872104, '1024_0.00379': 26.82429755882198, '384_0.00409': 67.39568315689748, '768_0.00328': 28.790424361720607, '384_0.00414': 70.61010254234425, '2048_0.00328': 10.167381108538397, '384_0.00419': 67.6698206821534, '768_0.00444': 25.870406930615218, '384_0.00424': 70.57944462932984, '384_0.00399': 68.67044387922245, '384_0.00429': 69.3977058792889, '768_0.00419': 26.575331707043922, '384_0.00439': 66.13408440331892, '768_0.00394': 24.719500221680185, '384_0.00434': 62.350700800297666, '768_0.00424': 27.31605726437374, '384_0.00499': 63.43365163994893, '768_0.00429': 26.78281924381954, '384_0.00449': 68.20629150441275, '768_0.00460': 26.10915553665433, '384_0.00459': 67.04721986739602, '4096_0.00409': 1.2561136281323246, '768_0.00379': 25.25305523962445, '384_0.00444': 66.73690763557939, '768_0.00414': 26.118078801712006, '384_0.00455': 66.25022205753817, '384_0.00460': 69.57494851605087, '384_0.00465': 64.03034165067179, '768_0.00333': 26.609280721997248, '384_0.00469': 67.17306958175313, '384_0.00471': 66.08291262407283, '384_0.00479': 63.10189474040365, '768_0.00369': 25.14579358063616, '768_0.00389': 23.746610640747498, '384_0.00490': 66.01781827833318, '768_0.00348': 28.057834520510685, '384_0.00422': 67.56488274859116, '768_0.00288': 27.391336838612673, '384_0.00435': 69.93461326825104, '384_0.00475': 64.67585599324066, '384_0.00402': 67.80355337177382, '384_0.00410': 71.0943177079664, '384_0.00420': 70.61150530753595, '384_0.00394': 68.92841358905969, '384_0.00480': 63.3536271209436, '768_0.00439': 25.32875408911212, '384_0.00440': 66.12332246529239, '384_0.00405': 66.09580819143844, '384_0.00415': 66.35225722209671, '384_0.00425': 68.77247848587687, '384_0.00445': 69.354873240052, '384_0.00464': 66.10281457305287, '384_0.00454': 70.36670835947007, '384_0.00450': 68.28890790047375, '384_0.00470': 62.65338359663198, '384_0.00495': 64.86974583671339, '384_0.00389': 68.5595754575047, '384_0.00412': 66.87840456367671, '384_0.00408': 67.51329631926352, '1024_0.00394': 27.642439147799617, '384_0.00484': 71.68887610755866, '384_0.00485': 69.167348291433, '384_0.00430': 68.64606732316547, '384_0.00384': 68.09371343393407, '384_0.00486': 68.6299969176348, '768_0.00486': 24.53622169760704, '1024_0.00409': 26.91209516364785, '384_0.00493': 64.65327499291203, '768_0.00352': 28.489089455753277, '768_0.00495': 22.38529260155235, '384_0.00354': 75.43911230193855, '384_0.00403': 69.88170748654464, '384_0.00369': 71.640532260971, '384_0.00488': 64.9937328510308, '384_0.00400': 67.61144419731598, '384_0.00411': 70.50597012408639, '384_0.00359': 72.72696737599598, '768_0.00403': 26.809270626760334, '384_0.00364': 69.63992069106752, '768_0.00354': 26.57359941305943, '384_0.00413': 68.60823693536467, '768_0.00353': 27.240146092827818, '1024_0.00424': 24.903560554666424, '384_0.00407': 69.5501373587998, '384_0.00431': 67.91788167007742, '384_0.00355': 72.27565630146275, '384_0.00406': 68.57183199580817, '384_0.00358': 74.71245558535863, '1024_0.00399': 28.704671973176097, '384_0.00353': 72.92860810000957, '768_0.00283': 28.60588041537368, '384_0.00283': 77.83231091864579, '384_0.00374': 69.82883241930443, '384_0.00237': 77.88890955726276, '384_0.00323': 75.27150949403206, '384_0.00243': 78.52366019446045, '384_0.00248': 79.59882288120752, '384_0.00232': 79.1084562247092, '384_0.00217': 80.65226486547104, '384_0.00222': 81.92525327725751, '384_0.00212': 80.5833978965932, '384_0.00227': 78.37833191832755, '384_0.00207': 78.6584423267902, '384_0.00197': 81.84375407003499, '384_0.00297': 74.91506079914444, '384_0.00103': 84.62170151946538, '384_0.00050': 84.07805813013012, '384_0.00121': 83.37328729645768, '384_0.00116': 84.27134576926119, '384_0.00203': 81.34063109862035, '384_0.00086': 85.24431993385153, '384_0.00081': 85.53765221314535, '384_0.00045': 83.81560524599014, '384_0.00051': 85.40445595925513, '384_0.00030': 79.04369925589437, '384_0.00020': 72.07696699048799, '384_0.00076': 85.58985231390176, '768_0.00051': 40.90771925615962, '384_0.00126': 83.1246558102795, '384_0.00015': 67.12605575460229, '1024_0.00005': 37.48953537641294, '384_0.00061': 85.89137368504083, '768_0.00126': 36.83218990818042, '384_0.00005': 49.266808660283594, '384_0.00091': 84.80800170935896, '384_0.00136': 84.3433481098442, '384_0.00046': 85.52413757346095, '384_0.00066': 84.94904757738865, '384_0.00071': 85.30023660735802, '384_0.00016': 67.41695379739474, '384_0.00021': 73.06445117995176, '384_0.00001': 40.220111294812924, '384_0.00131': 83.72008584423223, '384_0.00006': 50.84517848835364, '384_0.00007': 52.72975195246471, '384_0.00011': 59.76182064007383, '384_0.00056': 84.55679751457015, '384_0.00141': 82.55999574498261, '1024_0.00015': 44.80948773854212, '384_0.00065': 85.64633545129566, '384_0.00090': 84.10601625867069, '384_0.00314': 78.55325720196362, '384_0.00105': 84.72058624729631, '384_0.00268': 74.65946290739285, '384_0.00003': 44.851522028022714, '768_0.00005': 30.488022205478917, '384_0.00035': 81.06140318364268, '384_0.00025': 76.555579124697, '384_0.00010': 58.87735086089424, '384_0.00040': 83.56865651349237, '384_0.00088': 85.55544802315345, '384_0.00108': 84.09855150818859, '384_0.00012': 61.269749681517034}
agent1_data = {'4096_0.00455': 1.0569741219486337, '384_0.00328': 73.7007823116046, '768_0.00328': 26.825667554766135, '384_0.00455': 67.67692430458075, '2048_0.00455': 8.141340938028709, '1024_0.00485': 25.305225049967362, '384_0.00465': 66.40477828374375, '384_0.00372': 72.74592376591431, '384_0.00379': 69.65401470502968, '384_0.00384': 73.03808119378498, '384_0.00339': 71.3660033564182, '384_0.00329': 71.47132470643334, '384_0.00389': 69.87225683315258, '384_0.00394': 70.43426890822799, '384_0.00348': 72.93257209002518, '384_0.00323': 73.7993191610922, '768_0.00339': 24.95440069045577, '384_0.00325': 74.65388927987786, '384_0.00318': 76.19421944524497, '384_0.00313': 75.02000257682148, '384_0.00308': 75.88252170568978, '384_0.00303': 73.39257104366585, '384_0.00314': 70.41130425750895, '384_0.00298': 73.11563719835243, '384_0.00333': 74.60799785132352, '384_0.00319': 74.61415014736406, '768_0.00319': 27.424384083725293, '384_0.00317': 76.11117073733791, '384_0.00312': 71.14304258271915, '384_0.00293': 74.35101443897105, '384_0.00316': 76.76975700759465, '384_0.00307': 75.10803615861666, '384_0.00321': 72.10324193479782, '384_0.00302': 74.42246617805033, '384_0.00315': 75.70136756851431, '384_0.00326': 75.72173707047534, '384_0.00311': 75.24492977848139, '384_0.00310': 74.75354426626275, '384_0.00320': 74.95890996516127, '384_0.00309': 74.76334646611521, '384_0.00306': 76.21328409702197, '384_0.00305': 75.31026663112662, '384_0.00301': 77.08297406119596, '384_0.00300': 75.3210412322811, '384_0.00331': 75.19763543570747, '384_0.00304': 76.89995536751866, '384_0.00336': 74.33441296026591, '384_0.00288': 75.89936003387099, '384_0.00335': 73.42445980883272, '384_0.00283': 78.33503462442424, '384_0.00278': 78.4111582294144, '384_0.00273': 79.00765455464887, '384_0.00268': 79.92337954528121, '384_0.00263': 76.41480129126434, '384_0.00258': 79.32164884016098, '384_0.00253': 80.21681809394936, '384_0.00247': 82.0402842987772}
agent5_data = {'384_0.00404': 62.89992843872104, '2048_0.00298': 26.82429755882198, '384_0.00409': 67.39568315689748, '4096_0.00293': 28.790424361720607, '384_0.00414': 70.61010254234425, '2048_0.00288': 10.167381108538397, '384_0.00419': 67.6698206821534, '4096_0.00283': 25.870406930615218, '384_0.00424': 70.57944462932984, '384_0.00399': 68.67044387922245, '384_0.00429': 69.3977058792889, '2048_0.00278': 26.575331707043922, '384_0.00439': 66.13408440331892, '4096_0.00273': 24.719500221680185, '384_0.00434': 62.350700800297666, '2048_0.00268': 27.31605726437374, '384_0.00499': 63.43365163994893, '4096_0.00263': 26.78281924381954, '384_0.00449': 68.20629150441275, '2048_0.00258': 26.10915553665433, '384_0.00459': 67.04721986739602, '4096_0.00253': 1.2561136281323246, '2048_0.00248': 25.25305523962445, '384_0.00444': 66.73690763557939, '4096_0.00243': 26.118078801712006, '384_0.00455': 66.25022205753817, '384_0.00460': 69.57494851605087, '384_0.00465': 64.03034165067179, '2048_0.00237': 26.609280721997248, '384_0.00469': 67.17306958175313, '384_0.00471': 66.08291262407283, '384_0.00479': 63.10189474040365, '4096_0.00232': 25.14579358063616, '2048_0.00227': 23.746610640747498, '384_0.00490': 66.01781827833318, '4096_0.00222': 28.057834520510685, '384_0.00422': 67.56488274859116, '2048_0.00217': 27.391336838612673, '384_0.00435': 69.93461326825104, '384_0.00475': 64.67585599324066, '384_0.00402': 67.80355337177382, '384_0.00410': 71.0943177079664, '384_0.00420': 70.61150530753595, '384_0.00394': 68.92841358905969, '384_0.00480': 63.3536271209436, '4096_0.00212': 25.32875408911212, '384_0.00440': 66.12332246529239, '384_0.00405': 66.09580819143844, '384_0.00415': 66.35225722209671, '384_0.00425': 68.77247848587687, '384_0.00445': 69.354873240052, '384_0.00464': 66.10281457305287, '384_0.00454': 70.36670835947007, '384_0.00450': 68.28890790047375, '384_0.00470': 62.65338359663198, '384_0.00495': 64.86974583671339, '384_0.00389': 68.5595754575047, '384_0.00412': 66.87840456367671, '384_0.00408': 67.51329631926352, '2048_0.00207': 27.642439147799617, '384_0.00484': 71.68887610755866, '384_0.00485': 69.167348291433, '384_0.00430': 68.64606732316547, '384_0.00384': 68.09371343393407, '384_0.00486': 68.6299969176348, '4096_0.00202': 24.53622169760704, '2048_0.00197': 26.91209516364785, '384_0.00493': 64.65327499291203, '4096_0.00192': 28.489089455753277, '2048_0.00187': 22.38529260155235, '384_0.00354': 75.43911230193855, '384_0.00403': 69.88170748654464, '384_0.00369': 71.640532260971, '384_0.00488': 64.9937328510308, '384_0.00400': 67.61144419731598, '384_0.00411': 70.50597012408639, '384_0.00359': 72.72696737599598, '4096_0.00182': 26.809270626760334, '384_0.00364': 69.63992069106752, '2048_0.00177': 26.57359941305943, '384_0.00413': 68.60823693536467, '4096_0.00172': 27.240146092827818, '2048_0.00167': 24.903560554666424, '384_0.00407': 69.5501373587998, '384_0.00431': 67.91788167007742, '384_0.00355': 72.27565630146275, '384_0.00406': 68.57183199580817, '384_0.00358': 74.71245558535863, '4096_0.00162': 28.704671973176097, '384_0.00353': 72.92860810000957, '2048_0.00157': 28.60588041537368, '384_0.00283': 77.83231091864579, '384_0.00374': 69.82883241930443, '384_0.00237': 77.88890955726276, '384_0.00323': 75.27150949403206, '384_0.00243': 78.52366019446045, '384_0.00248': 79.59882288120752, '384_0.00232': 79.1084562247092, '384_0.00217': 80.65226486547104, '384_0.00222': 81.92525327725751, '384_0.00212': 80.5833978965932, '384_0.00227': 78.37833191832755, '384_0.00207': 78.6584423267902, '384_0.00197': 81.84375407003499, '384_0.00297': 74.91506079914444, '384_0.00103': 84.62170151946538, '384_0.00050': 84.07805813013012, '384_0.00121': 83.37328729645768, '384_0.00116': 84.27134576926119, '384_0.00203': 81.34063109862035, '384_0.00086': 85.24431993385153, '384_0.00081': 85.53765221314535, '384_0.00045': 83.81560524599014, '384_0.00051': 85.40445595925513, '384_0.00030': 79.04369925589437, '384_0.00020': 72.07696699048799, '384_0.00076': 85.58985231390176, '768_0.00051': 40.90771925615962, '384_0.00126': 83.1246558102795, '384_0.00015': 67.12605575460229, '1024_0.00005': 37.48953537641294, '384_0.00061': 85.89137368504083, '768_0.00126': 36.83218990818042, '384_0.00005': 49.266808660283594, '384_0.00091': 84.80800170935896, '384_0.00136': 84.3433481098442, '384_0.00046': 85.52413757346095, '384_0.00066': 84.94904757738865, '384_0.00071': 85.30023660735802, '384_0.00016': 67.41695379739474, '384_0.00021': 73.06445117995176, '384_0.00001': 40.220111294812924, '384_0.00131': 83.72008584423223, '384_0.00006': 50.84517848835364, '384_0.00007': 52.72975195246471, '384_0.00011': 59.76182064007383, '384_0.00056': 84.55679751457015, '384_0.00141': 82.55999574498261, '1024_0.00015': 44.80948773854212, '384_0.00065': 85.64633545129566, '384_0.00090': 84.10601625867069, '384_0.00314': 78.55325720196362, '384_0.00105': 84.72058624729631, '384_0.00268': 74.65946290739285, '384_0.00003': 44.851522028022714, '4096_0.00152': 30.488022205478917, '384_0.00035': 81.06140318364268, '384_0.00025': 76.555579124697, '384_0.00010': 58.87735086089424, '384_0.00040': 83.56865651349237, '384_0.00088': 85.55544802315345, '384_0.00108': 84.09855150818859, '384_0.00012': 61.269749681517034}
 
agent_oss_data= {'384_0.00500': 64.6815924991638, '1024_0.00300': 28.335384212033688, '384_0.00450': 66.8543759380095, '384_0.00400': 67.46782266038241, '768_0.00400': 26.859764096910737, '384_0.00390': 70.39884350365737, '384_0.00350': 72.4264240783316, '384_0.00300': 74.03299213080682, '384_0.00250': 76.06545362388118, '384_0.00200': 79.27071398452175, '384_0.00232': 80.33969621360164, '384_0.00258': 82.02}
# Prepare x and y
# x = list(agent1_data.keys())
# y = list(agent1_data.values())

# agent5_data= dict(list(agent5_data.items())[40:114])
# x = list(agent5_data.keys())
# y = list(agent5_data.values())

#double x axis 

import matplotlib.pyplot as plt
import numpy as np

# Example data (replace with your real dicts)
agent1_data = list(agent1_data.values())
agent_oss_data = list(agent_oss_data.values())

# Find max length
max_len = max(len(agent1_data), len(agent_oss_data))

# Pad shorter list with NaNs so lengths match
agent1_data = agent1_data + [np.nan] * (max_len - len(agent1_data))
agent_oss_data = agent_oss_data + [np.nan] * (max_len - len(agent_oss_data))

indices = np.arange(max_len)
bar_width = 0.4

plt.figure(figsize=(10, 5))
plt.bar(indices - bar_width/2, agent1_data, width=bar_width, label="Nemotron-Ultra-253B", color="skyblue")
plt.bar(indices + bar_width/2, agent_oss_data, width=bar_width, label="GPT-OSS-120B", color="orange")

plt.xlabel("Trial Index", fontsize=24)
plt.ylabel("Score", fontsize=24)
# plt.xticks(indices, indices, rotation=45, fontsize=14)
plt.xticks(
    ticks=np.arange(0, len(agent1_data), 2),  # every 2nd tick
    labels=np.arange(0, len(agent1_data), 2),
    rotation=45,
    ha='right',
    fontsize=16
)
plt.yticks(fontsize=16)
plt.legend(fontsize=18, loc='upper center', bbox_to_anchor=(0.5, 1.19), ncol=4)

# plt.legend(fontsize=24)
plt.grid(axis="y", linestyle="--", alpha=0.7)
plt.tight_layout()


plt.savefig("trial_index_comparison.png", dpi=300)
plt.show()


exit(0)

x = list(agent_oss_data.keys())
y = list(agent_oss_data.values())


# Plot
plt.figure(figsize=(20, 10))
bars = plt.bar(x, y, color='skyblue', width=1)  # Default is 0.8, smaller = thinner
plt.xlim(-0.5, len(x) - 0.5)  # Forces bars to extend fully edge-to-edge
step = 2  # show every 5th label
plt.xticks(ticks=range(0, len(x), step), labels=x[::step], rotation=45, fontsize=20)
plt.yticks(fontsize=24)
plt.xlabel("Embedding_LR", fontsize=34)
plt.ylabel("Score", fontsize=34)
#plt.title(f" Agentic parameter Search (1 Agent)", fontsize=42)
plt.tight_layout()
plt.tick_params(axis='both', labelsize=20)
plt.grid(True, which="both", linestyle='--', linewidth=0.5)
plt.savefig("/lustre/orion/stf218/proj-shared/brave/vllm_test/plots/agent_oss.png")
